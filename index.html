<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Molecular Explorer üî¨</title>

  <!-- Estilo moderno -->
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      color: #fff;
      background: linear-gradient(135deg, #0b132b, #1c2541, #3a506b);
      background-size: 300% 300%;
      animation: gradientMove 12s ease infinite;
    }
    @keyframes gradientMove {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    header {
      text-align: center;
      padding: 40px 10px;
      background: rgba(0,0,0,0.4);
    }

    header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    nav {
      text-align: center;
      margin-bottom: 30px;
    }

    nav a {
      color: #f5f5f5;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
      border-bottom: 2px solid transparent;
    }

    nav a:hover {
      border-bottom: 2px solid #00b4d8;
    }

    main {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
      padding: 20px;
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      width: 350px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
      transition: transform 0.2s;
    }

    .card:hover {
      transform: scale(1.03);
    }

    .card h2 {
      text-align: center;
      color: #90e0ef;
    }

    textarea {
      width: 100%;
      height: 100px;
      border-radius: 10px;
      border: none;
      padding: 10px;
      font-family: monospace;
      resize: none;
    }

    button {
      background: #00b4d8;
      border: none;
      color: #fff;
      font-weight: bold;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      margin: 5px 0;
      transition: background 0.3s;
    }

    button:hover {
      background: #0077b6;
    }

    img.explain {
      width: 100%;
      border-radius: 10px;
      margin-top: 10px;
      border: 2px solid #90e0ef;
    }

    footer {
      text-align: center;
      padding: 20px;
      font-size: 0.9rem;
      opacity: 0.8;
    }

    input[type=text] {
      width: 90%;
      padding: 8px;
      border-radius: 8px;
      border: none;
      margin-top: 5px;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>üß¨ Molecular Explorer</h1>
    <p>Una herramienta interactiva para analizar secuencias de ADN y prote√≠nas.</p>
  </header>

  <nav>
    <a href="#analisis">An√°lisis ADN</a>
    <a href="#busqueda">Buscar secuencias</a>
    <a href="#info">Acerca de</a>
  </nav>

  <main id="analisis">
    <div class="card">
      <h2>1Ô∏è‚É£ Generar Reverse Complement</h2>
      <p>Obt√©n la secuencia inversa y complementaria del ADN (A‚ÜîT, G‚ÜîC).</p>
      <textarea id="seq" placeholder="Escribe tu secuencia aqu√≠..."></textarea>
      <button onclick="reverseComplement()">Generar</button>
      <p id="revcomp" style="word-break: break-word;"></p>
      <img src="https://i.imgur.com/KjMwnrA.png" class="explain" alt="Ejemplo reverse complement">
    </div>

    <div class="card">
      <h2>2Ô∏è‚É£ Traducir a Prote√≠na</h2>
      <p>Convierte tu secuencia de ADN en una secuencia de amino√°cidos (usando el c√≥digo gen√©tico est√°ndar).</p>
      <textarea id="protseq" placeholder="Escribe secuencia de ADN..."></textarea>
      <button onclick="translateDNA()">Traducir</button>
      <p id="protein" style="word-break: break-word;"></p>
      <img src="https://i.imgur.com/UKSK1Wx.png" class="explain" alt="Ejemplo traducci√≥n a prote√≠na">
    </div>

    <div class="card">
      <h2>3Ô∏è‚É£ Calcular GC%</h2>
      <p>Calcula el porcentaje de bases G y C, √∫til para determinar estabilidad gen√©tica y origen evolutivo.</p>
      <textarea id="gcseq" placeholder="Escribe secuencia de ADN..."></textarea>
      <button onclick="calcGC()">Calcular</button>
      <p id="gccontent"></p>
      <img src="https://i.imgur.com/0T5ML2C.png" class="explain" alt="Ejemplo c√°lculo GC%">
    </div>

    <div class="card" id="busqueda">
      <h2>4Ô∏è‚É£ Buscar secuencia en NCBI</h2>
      <p>Busca genes o secuencias reales (usa nombres como ‚ÄúGBSS potato‚Äù o ‚ÄúNPR1 Solanum‚Äù).</p>
      <input type="text" id="searchTerm" placeholder="Ejemplo: GBSS Solanum tuberosum" />
      <button onclick="searchNCBI()">Buscar</button>
      <div id="searchResults"></div>
    </div>
  </main>

  <footer id="info">
    <p>Desarrollado por Carlos Flores ¬© 2025 | Proyecto educativo de Biolog√≠a Molecular.</p>
  </footer>

  <!-- Scripts -->
  <script>
    // --- Funci√≥n 1: Reverse Complement ---
    function reverseComplement() {
      const seq = document.getElementById("seq").value.toUpperCase().replace(/[^ATCG]/g, "");
      const comp = {A:"T", T:"A", G:"C", C:"G"};
      const revcomp = seq.split("").reverse().map(b => comp[b] || "").join("");
      document.getElementById("revcomp").textContent = revcomp || "Secuencia no v√°lida.";
    }

    // --- Funci√≥n 2: Traducci√≥n de ADN a prote√≠na ---
    const codonTable = {
      TTT:'F', TTC:'F', TTA:'L', TTG:'L',
      CTT:'L', CTC:'L', CTA:'L', CTG:'L',
      ATT:'I', ATC:'I', ATA:'I', ATG:'M',
      GTT:'V', GTC:'V', GTA:'V', GTG:'V',
      TCT:'S', TCC:'S', TCA:'S', TCG:'S',
      CCT:'P', CCC:'P', CCA:'P', CCG:'P',
      ACT:'T', ACC:'T', ACA:'T', ACG:'T',
      GCT:'A', GCC:'A', GCA:'A', GCG:'A',
      TAT:'Y', TAC:'Y', TAA:'*', TAG:'*',
      CAT:'H', CAC:'H', CAA:'Q', CAG:'Q',
      AAT:'N', AAC:'N', AAA:'K', AAG:'K',
      GAT:'D', GAC:'D', GAA:'E', GAG:'E',
      TGT:'C', TGC:'C', TGA:'*', TGG:'W',
      CGT:'R', CGC:'R', CGA:'R', CGG:'R',
      AGT:'S', AGC:'S', AGA:'R', AGG:'R',
      GGT:'G', GGC:'G', GGA:'G', GGG:'G'
    };

    function translateDNA() {
      const seq = document.getElementById("protseq").value.toUpperCase().replace(/[^ATCG]/g, "");
      let protein = "";
      for (let i = 0; i < seq.length - 2; i += 3) {
        let codon = seq.substring(i, i + 3);
        protein += codonTable[codon] || "";
      }
      // Mejorar visualmente: eliminar codones incompletos
      document.getElementById("protein").textContent = protein || "Secuencia no v√°lida.";
    }

    // --- Funci√≥n 3: Calcular contenido GC ---
    function calcGC() {
      const seq = document.getElementById("gcseq").value.toUpperCase().replace(/[^ATCG]/g, "");
      if (seq.length === 0) {
        document.getElementById("gccontent").textContent = "Por favor ingresa una secuencia v√°lida.";
        return;
      }
      const gcCount = (seq.match(/[GC]/g) || []).length;
      const gcPercent = ((gcCount / seq.length) * 100).toFixed(2);
      document.getElementById("gccontent").textContent = `Contenido GC: ${gcPercent}%`;
    }

    // --- Funci√≥n 4: Buscar secuencias reales (enlace a NCBI) ---
    function searchNCBI() {
      const term = document.getElementById("searchTerm").value.trim();
      if (!term) {
        document.getElementById("searchResults").innerHTML = "<p>Ingresa un nombre de gen o especie.</p>";
        return;
      }
      const url = `https://www.ncbi.nlm.nih.gov/search/all/?term=${encodeURIComponent(term)}`;
      document.getElementById("searchResults").innerHTML = `<p>Buscar en NCBI: <a href="${url}" target="_blank">${url}</a></p>`;
    }
  </script>
</body>
</html>
